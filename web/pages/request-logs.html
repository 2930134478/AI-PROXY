<div class="row">
    <!-- 筛选条件 -->
    <div class="col-12 mb-2">
        <div class="card mb-0" style="margin-bottom:4px;">
            <div class="card-header">
                <h5 class="card-title mb-0">筛选条件</h5>
            </div>
            <div class="card-body">
                <form id="filterForm" class="row g-3">
                    <div class="col-md-3">
                        <label for="filterApiName" class="form-label">API名称</label>
                        <input type="text" class="form-control" id="filterApiName" placeholder="输入API名称">
                    </div>
                    <div class="col-md-3">
                        <label for="filterMethod" class="form-label">请求方法</label>
                        <select class="form-select" id="filterMethod">
                            <option value="">全部</option>
                            <option value="GET">GET</option>
                            <option value="POST">POST</option>
                            <option value="PUT">PUT</option>
                            <option value="DELETE">DELETE</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="filterStatus" class="form-label">状态码</label>
                        <select class="form-select" id="filterStatus">
                            <option value="">全部</option>
                            <option value="200">200 (成功)</option>
                            <option value="400">400 (客户端错误)</option>
                            <option value="500">500 (服务器错误)</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="filterHasError" class="form-label">错误状态</label>
                        <select class="form-select" id="filterHasError">
                            <option value="">全部</option>
                            <option value="true">有错误</option>
                            <option value="false">无错误</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="filterStartDate" class="form-label">开始日期</label>
                        <input type="datetime-local" class="form-control" id="filterStartDate">
                    </div>
                    <div class="col-md-3">
                        <label for="filterEndDate" class="form-label">结束日期</label>
                        <input type="datetime-local" class="form-control" id="filterEndDate">
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">&nbsp;</label>
                        <div>
                            <button type="button" class="btn btn-primary" data-action="applyFilter">
                                <i class="bi bi-search"></i> 筛选
                            </button>
                            <button type="button" class="btn btn-secondary ms-2" data-action="resetFilter">
                                <i class="bi bi-arrow-clockwise"></i> 重置
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- 日志表格 -->
    <div class="col-12">
        <div class="card mt-0" style="margin-top:0;">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">请求日志</h5>
                <div>
                    <button class="btn btn-outline-danger me-2" data-action="clearLogs">
                        <i class="bi bi-trash"></i> 清空日志
                    </button>
                    <button class="btn btn-outline-primary" data-action="exportLogs">
                        <i class="bi bi-download"></i> 导出
                    </button>
                </div>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>时间</th>
                                <th>API名称</th>
                                <th>请求方法</th>
                                <th>请求路径</th>
                                <th>状态码</th>
                                <th>响应时间</th>
                                <th>用户IP</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody id="requestLogsTable">
                            <!-- 请求日志数据将在这里动态加载 -->
                        </tbody>
                    </table>
                </div>
                
                <!-- 分页 -->
                <nav aria-label="请求日志分页">
                    <ul class="pagination justify-content-center" id="pagination">
                        <!-- 分页将在这里动态生成 -->
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div>

<!-- 日志详情模态框 -->
<div class="modal fade" id="logDetailModal" tabindex="-1">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">请求日志详情</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6>基本信息</h6>
                        <table class="table table-sm">
                            <tr><td>API名称</td><td id="detailApiName">-</td></tr>
                            <tr><td>请求方法</td><td id="detailMethod">-</td></tr>
                            <tr><td>请求路径</td><td id="detailPath">-</td></tr>
                            <tr><td>状态码</td><td id="detailStatus">-</td></tr>
                            <tr><td>响应时间</td><td id="detailResponseTime">-</td></tr>
                            <tr><td>用户IP</td><td id="detailUserIP">-</td></tr>
                            <tr><td>用户代理</td><td id="detailUserAgent">-</td></tr>
                            <tr><td>创建时间</td><td id="detailCreatedAt">-</td></tr>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <h6>错误信息</h6>
                        <div id="detailErrorMessage" class="alert alert-danger" style="display: none;">
                            <!-- 错误信息将在这里显示 -->
                        </div>
                    </div>
                </div>
                
                <div class="row mt-3">
                    <div class="col-md-6">
                        <h6>请求头</h6>
                        <pre id="detailHeaders" class="bg-light p-2 rounded">-</pre>
                    </div>
                    <div class="col-md-6">
                        <h6>请求体</h6>
                        <pre id="detailBody" class="bg-light p-2 rounded">-</pre>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
            </div>
        </div>
    </div>
</div>

<!-- 移除原有的<script>标签和JS，所有功能已合并到main.js -->